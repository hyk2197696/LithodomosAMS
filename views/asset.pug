extends layout

block content
    h1= asset.name


    div(style='margin-left:20px;margin-top:20px')
        p Asset Name : #{asset.name}
        if (asset.project != null )
            p Project : #{asset.project.name}
        else
            p Project : Null
        if (asset.reference != null )
            p Reference : #{asset.reference.name}
        else
            p Reference : Null
        p#directory
    - var alterhref = "/catalog/assetalter?id=" + asset.id
    - var deletehref = "/catalog/assetdelete?id=" + asset.id
    - var downloadhref = "/catalog/assetdownload?id=" + asset.id
    a(href = downloadhref class="btn btn-default btn-lg")
        span(class="glyphicon glyphicon-download-alt") Download
    a(href = alterhref class="btn btn-default btn-lg")
        span(class="glyphicon glyphicon-pencil") Alter
    a(href = deletehref class="btn btn-default btn-lg")
        span(class="glyphicon glyphicon-remove") Delete
    script.
        $(document).ready(function () {
            getdirectory();
            //getallreference();
        });

        function getdirectory() {
            var req = new XMLHttpRequest();
            req.open("get", "/dynamic/getfullfolderdirectory?id=#{asset.fakeDirectory.id}");
            req.onreadystatechange = function () {
                if (req.readyState == 4) {
                    $('#directory').html('Directory: ' +  req.responseText);
                }
            }
            req.send();
        }
